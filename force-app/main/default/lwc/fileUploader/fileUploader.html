<template>
    <template if:true={showComponent}>
    <div class="slds-box slds-theme_default">
        <h2 class="slds-text-heading_medium">Upload Files</h2>
        <input type="file" multiple onchange={handleFilesSelected} />

        <template if:true={files.length}>
            <div class="slds-m-top_medium">
                <h3 class="slds-text-heading_small">Selected Files:</h3>
                <template for:each={files} for:item="file" for:index="index">
                    <div key={file.name} class="slds-m-vertical_small slds-box">
                        <template if:true={file.previewUrl}>
                            <!-- Image Preview -->
                            <img src={file.previewUrl} alt={file.name} style="max-width: 200px; max-height: 150px;" />
                        </template>
                        <template if:false={file.previewUrl}>
                            <!-- File Name Only -->
                            <p>{file.name}</p>
                        </template>
                    </div>
                </template>
                <lightning-spinner alternative-text="Loading" size="small" if:true={isLoading}></lightning-spinner>
            </div>
            <lightning-button variant="brand" label="Upload Files" onclick={handleSave} class="slds-m-top_medium"></lightning-button>
        </template>
    </div>
</template>
<template if:false={showComponent}>
<h2 class="slds-text-heading_medium">{componentMessage}</h2>
</template>
</template>